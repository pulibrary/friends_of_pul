/*!
 * modernizr v3.3.1
 * Build http://modernizr.com/download?-svg-addtest-fnbind-printshiv-setclasses-testprop-dontmin
 *
 * Copyright (c)
 *  Faruk Ates
 *  Paul Irish
 *  Alex Sexton
 *  Ryan Seddon
 *  Patrick Kettner
 *  Stu Cox
 *  Richard Herrera

 * MIT License
 */
!function(e,t,n){function a(e,t){return typeof e===t}function i(){var e,t,n,i,r,s,o;for(var c in m)if(m.hasOwnProperty(c)){if(e=[],t=m[c],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(i=a(t.fn,"function")?t.fn():t.fn,r=0;r<e.length;r++)s=e[r],o=s.split("."),1===o.length?v[o[0]]=i:(!v[o[0]]||v[o[0]]instanceof Boolean||(v[o[0]]=new Boolean(v[o[0]])),v[o[0]][o[1]]=i),y.push((i?"":"no-")+o.join("-"))}}function r(e){var t=k.className,n=v._config.classPrefix||"";if(_&&(t=t.baseVal),v._config.enableJSClass){var a=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(a,"$1"+n+"js$2")}v._config.enableClasses&&(t+=" "+n+e.join(" "+n),_?k.className.baseVal=t:k.className=t)}function s(e,t){if("object"==typeof e)for(var n in e)b(e,n)&&s(n,e[n]);else{e=e.toLowerCase();var a=e.split("."),i=v[a[0]];if(2==a.length&&(i=i[a[1]]),"undefined"!=typeof i)return v;t="function"==typeof t?t():t,1==a.length?v[a[0]]=t:(!v[a[0]]||v[a[0]]instanceof Boolean||(v[a[0]]=new Boolean(v[a[0]])),v[a[0]][a[1]]=t),r([(t&&0!=t?"":"no-")+a.join("-")]),v._trigger(e,t)}return v}function o(e,t){return!!~(""+e).indexOf(t)}function c(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):_?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function l(){var e=t.body;return e||(e=c(_?"svg":"body"),e.fake=!0),e}function u(e,n,a,i){var r,s,o,u,h="modernizr",f=c("div"),p=l();if(parseInt(a,10))for(;a--;)o=c("div"),o.id=i?i[a]:h+(a+1),f.appendChild(o);return r=c("style"),r.type="text/css",r.id="s"+h,(p.fake?p:f).appendChild(r),p.appendChild(f),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(t.createTextNode(e)),f.id=h,p.fake&&(p.style.background="",p.style.overflow="hidden",u=k.style.overflow,k.style.overflow="hidden",k.appendChild(p)),s=n(f,e),p.fake?(p.parentNode.removeChild(p),k.style.overflow=u,k.offsetHeight):f.parentNode.removeChild(f),!!s}function h(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function f(t,a){var i=t.length;if("CSS"in e&&"supports"in e.CSS){for(;i--;)if(e.CSS.supports(h(t[i]),a))return!0;return!1}if("CSSSupportsRule"in e){for(var r=[];i--;)r.push("("+h(t[i])+":"+a+")");return r=r.join(" or "),u("@supports ("+r+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function p(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function d(e,t,i,r){function s(){u&&(delete S.style,delete S.modElem)}if(r=!a(r,"undefined")&&r,!a(i,"undefined")){var l=f(e,i);if(!a(l,"undefined"))return l}for(var u,h,d,m,g,v=["modernizr","tspan"];!S.style;)u=!0,S.modElem=c(v.shift()),S.style=S.modElem.style;for(d=e.length,h=0;h<d;h++)if(m=e[h],g=S.style[m],o(m,"-")&&(m=p(m)),S.style[m]!==n){if(r||a(i,"undefined"))return s(),"pfx"!=t||m;try{S.style[m]=i}catch(b){}if(S.style[m]!=g)return s(),"pfx"!=t||m}return s(),!1}var m=[],g={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){m.push({name:e,fn:t,options:n})},addAsyncTest:function(e){m.push({name:null,fn:e})}},v=function(){};v.prototype=g,v=new v;var b,y=[],k=t.documentElement,_="svg"===k.nodeName.toLowerCase();!function(){var e={}.hasOwnProperty;b=a(e,"undefined")||a(e.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(t,n){return e.call(t,n)}}(),g._l={},g.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),v.hasOwnProperty(e)&&setTimeout(function(){v._trigger(e,v[e])},0)},g._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout(function(){var e,a;for(e=0;e<n.length;e++)(a=n[e])(t)},0),delete this._l[e]}},v._q.push(function(){g.addTest=s});_||!function(e,t){function n(e,t){var n=e.createElement("p"),a=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",a.insertBefore(n.lastChild,a.firstChild)}function a(){var e=x.elements;return"string"==typeof e?e.split(" "):e}function i(e,t){var n=x.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),x.elements=n+" "+e,l(t)}function r(e){var t=S[e[_]];return t||(t={},w++,e[_]=w,S[w]=t),t}function s(e,n,a){if(n||(n=t),g)return n.createElement(e);a||(a=r(n));var i;return i=a.cache[e]?a.cache[e].cloneNode():k.test(e)?(a.cache[e]=a.createElem(e)).cloneNode():a.createElem(e),!i.canHaveChildren||y.test(e)||i.tagUrn?i:a.frag.appendChild(i)}function o(e,n){if(e||(e=t),g)return e.createDocumentFragment();n=n||r(e);for(var i=n.frag.cloneNode(),s=0,o=a(),c=o.length;s<c;s++)i.createElement(o[s]);return i}function c(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return x.shivMethods?s(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+a().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(x,t.frag)}function l(e){e||(e=t);var a=r(e);return!x.shivCSS||m||a.hasCSS||(a.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),g||c(e,a),e}function u(e){for(var t,n=e.getElementsByTagName("*"),i=n.length,r=RegExp("^(?:"+a().join("|")+")$","i"),s=[];i--;)t=n[i],r.test(t.nodeName)&&s.push(t.applyElement(h(t)));return s}function h(e){for(var t,n=e.attributes,a=n.length,i=e.ownerDocument.createElement(T+":"+e.nodeName);a--;)t=n[a],t.specified&&i.setAttribute(t.nodeName,t.nodeValue);return i.style.cssText=e.style.cssText,i}function f(e){for(var t,n=e.split("{"),i=n.length,r=RegExp("(^|[\\s,>+~])("+a().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),s="$1"+T+"\\:$2";i--;)t=n[i]=n[i].split("}"),t[t.length-1]=t[t.length-1].replace(r,s),n[i]=t.join("}");return n.join("{")}function p(e){for(var t=e.length;t--;)e[t].removeNode()}function d(e){function t(){clearTimeout(s._removeSheetTimer),a&&a.removeNode(!0),a=null}var a,i,s=r(e),o=e.namespaces,c=e.parentWindow;return!C||e.printShived?e:("undefined"==typeof o[T]&&o.add(T),c.attachEvent("onbeforeprint",function(){t();for(var r,s,o,c=e.styleSheets,l=[],h=c.length,p=Array(h);h--;)p[h]=c[h];for(;o=p.pop();)if(!o.disabled&&E.test(o.media)){try{r=o.imports,s=r.length}catch(d){s=0}for(h=0;h<s;h++)p.push(r[h]);try{l.push(o.cssText)}catch(d){}}l=f(l.reverse().join("")),i=u(e),a=n(e,l)}),c.attachEvent("onafterprint",function(){p(i),clearTimeout(s._removeSheetTimer),s._removeSheetTimer=setTimeout(t,500)}),e.printShived=!0,e)}var m,g,v="3.7.3",b=e.html5||{},y=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,k=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,_="_html5shiv",w=0,S={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",m="hidden"in e,g=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){m=!0,g=!0}}();var x={elements:b.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:v,shivCSS:b.shivCSS!==!1,supportsUnknownElements:g,shivMethods:b.shivMethods!==!1,type:"default",shivDocument:l,createElement:s,createDocumentFragment:o,addElements:i};e.html5=x,l(t);var E=/^$|\b(?:all|print)\b/,T="html5shiv",C=!g&&function(){var n=t.documentElement;return!("undefined"==typeof t.namespaces||"undefined"==typeof t.parentWindow||"undefined"==typeof n.applyElement||"undefined"==typeof n.removeNode||"undefined"==typeof e.attachEvent)}();x.type+=" print",x.shivPrint=d,d(t),"object"==typeof module&&module.exports&&(module.exports=x)}("undefined"!=typeof e?e:this,t);var w={elem:c("modernizr")};v._q.push(function(){delete w.elem});var S={style:w.elem.style};v._q.unshift(function(){delete S.style});g.testProp=function(e,t,a){return d([e],n,t,a)};/*!
{
  "name": "SVG",
  "property": "svg",
  "caniuse": "svg",
  "tags": ["svg"],
  "authors": ["Erik Dahlstrom"],
  "polyfills": [
    "svgweb",
    "raphael",
    "amplesdk",
    "canvg",
    "svg-boilerplate",
    "sie",
    "dojogfx",
    "fabricjs"
  ]
}
!*/
v.addTest("svg",!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),i(),r(y),delete g.addTest,delete g.addAsyncTest;for(var x=0;x<v._q.length;x++)v._q[x]();e.Modernizr=v}(window,document),function(e){Drupal.theme.prototype.pulBaseExampleButton=function(t,n){return e('<a href="'+t+'" title="'+n+'">'+n+"</a>")},Drupal.theme.prototype.pulChatStatusBlock=function(){var e='<span class="needs-js"></span>',t='<span class="libraryh3lp" jid="libchatpul-main@chat.libraryh3lp.com" style="display: none;"><a class=" button--libraryh3lp button--libraryh3lp__online" href="http://library.princeton.edu/help/chat"> Online now</a></span>',n='<span class="libraryh3lp" style="display: none;"><a class=" button--libraryh3lp button--libraryh3lp__offline" href="http://library.princeton.edu/help/e-mail"> Offline now</a></span>';return e+t+n},Drupal.behaviors.pulSmoothScroll={attach:function(t){var n=300,a=1200,i=e(".cd-top");e(window).scroll(function(){e(this).scrollTop()>n?i.addClass("cd-is-visible"):i.removeClass("cd-is-visible cd-fade-out"),e(this).scrollTop()>a&&i.addClass("cd-fade-out")}),e("a[href*=#l-page]").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=e(this.hash);if(t=t.length?t:e("[name="+this.hash.slice(1)+"]"),t.length)return e("html,body").animate({scrollTop:t.offset().top},1e3),!1}})}},Drupal.behaviors.pulSearchHeadersLinkBehavior={attach:function(t){var n=e(".page-find-all-results #general_site_user_search-panel_pane_1 .more-link a").attr("href"),a=e(".page-find-all-results #general_site_keyword_search-panel_pane_1 .more-link a").attr("href"),i=e(".page-find-all-results #databases_keyword_search-panel_pane_2 .more-link a").attr("href"),r=e("#general_site_user_search-panel_pane_1 .item-list li").length;r>2&&e(".page-find-all-results #general_site_user_search-panel_pane_1 h2").replaceWith(function(){return'<h2><a href="'+n+'" title="See all library staff results."><i class="icon-staff"></i>Library Staff Results</a></h2>'});var s=e("#general_site_keyword_search-panel_pane_1 .item-list li").length;s>2&&e(".page-find-all-results #general_site_keyword_search-panel_pane_1 h2").replaceWith(function(){return'<h2><a href="'+a+'" title="See all library website results."><i class="icon-windows"></i>Library Website Results</a></h2>'});var o=e("#databases_keyword_search-panel_pane_2 .item-list li").length;o>2&&e(".page-find-all-results #databases_keyword_search-panel_pane_2 h2").replaceWith(function(){return'<h2><a href="'+i+'" title="See all database results."><i class="icon-databases"></i>Databases Results</a></h2>'})}},Drupal.behaviors.pulMainMenuBehavior={attach:function(t){e(".centered-navigation-menu",t).once("pul",function(){var t=e(".centered-navigation-menu"),n=e(".centered-navigation-menu-button");e(n).click(function(e){e.preventDefault(),t.slideToggle(function(){t.is(":hidden")&&t.removeAttr("style")})}),e(".centered-navigation-menu ul.menu a").each(function(){e(this).click(function(){ga("send","event","Main Menu","click",e(this).text(),{page:window.location.pathname})})})})}},Drupal.behaviors.pulResourceButtonBehavior={attach:function(t,n){e(".field--name-field-db-access-url",t).once("pul",function(){e(".field--name-field-db-access-url a, .field--name-field-db-access-url a").each(function(){var t=e(this).attr("href"),a=t.replace(/\&amp%3B|&amp;/g,"&"),i=n.pul_base_theme.resolvePrefix;e(this).attr("href",i+a),e(this).attr("target","_blank")})})}},Drupal.behaviors.pulChatWidgetBehavior={attach:function(t){e(".library-three-help",t).once("pul",function(){var t=Drupal.theme("pulChatStatusBlock");e(this).append(t)})}},Drupal.behaviors.pulTrackFooterMenuUsage={attach:function(t){e(".l-region--footer",t).once("pul",function(){e(".l-region--footer .block--menu a").each(function(){e(this).addClass("footer-link"),e(this).click(function(){ga("send","event","Footer Menu","click",e(this).text(),{page:window.location.pathname})})})})}},Drupal.behaviors.pulTrackGetHelpMenuUsage={attach:function(t){e(".pane-menu-menu-get-help-menu",t).once("pul",function(){e(".pane-menu-menu-get-help-menu a").each(function(){e(this).addClass("get-help-link"),e(this).click(function(){ga("send","event","Get Help Menu","click",e(this).text())})})})}},Drupal.behaviors.pulTrackNewsUsage={attach:function(t){e(".view-library-news",t).once("pul",function(){e(".view-library-news a").each(function(t,n){var a=parseInt(t,10)+1;e(this).addClass("library-news-link"),e(this).click(function(){ga("send","event","Library News","click",e(this).text()+" Position "+a)})})})}},Drupal.behaviors.pulRewriteTempStaff={attach:function(t){e(".view-staff-department-list",t).once("pul",function(){e("tbody a").each(function(t,n){var a=e(this).attr("href"),i=a.replace(/temp_/,"");e(this).attr("href",i)}),e("tbody td.views-field-mail").each(function(t,n){var a=e(this).text(),i=a.replace(/(temp_|_test)/,"");e(this).text(i)})})}},Drupal.behaviors.pulTrackHoursUsage={attach:function(t){e(".pane-library-hours",t).once("pul",function(){e(".pane-library-hours a").each(function(t,n){var a=parseInt(t,10)+1;e(this).addClass("library-hours-link"),e(this).click(function(){ga("send","event","Library Daily Hours","click",e(this).text()+" Position "+a)})})})}},Drupal.behaviors.pulTrackTabLinkUsage={attach:function(t){e("#quicktabs-tabpage-homepage_search_tabs-0 .homepage-tab-form-message",t).once("pul",function(){e("#quicktabs-tabpage-homepage_search_tabs-0 .homepage-tab-form-message a").each(function(){e(this).click(function(){ga("send","event",e(this).text(),"All Tab")})})}),e("#quicktabs-tabpage-homepage_search_tabs-1 .homepage-tab-form-message",t).once("pul",function(){e("#quicktabs-tabpage-homepage_search_tabs-1 .homepage-tab-form-message a").each(function(){e(this).click(function(){ga("send","event",e(this).text(),"Books+ Tab")})})}),e("#quicktabs-tabpage-homepage_search_tabs-2 .homepage-tab-form-message",t).once("pul",function(){e("#quicktabs-tabpage-homepage_search_tabs-2 .homepage-tab-form-message a").each(function(){e(this).click(function(){ga("send","event",e(this).text(),"Articles+ Tab")})})}),e("#quicktabs-tabpage-homepage_search_tabs-3 .homepage-tab-form-message",t).once("pul",function(){e("#quicktabs-tabpage-homepage_search_tabs-3 .homepage-tab-form-message a").each(function(){e(this).click(function(){ga("send","event",e(this).text(),"Databases Tab")})})})}},Drupal.behaviors.pulTrackAllSearchUsage={attach:function(t){e(".page-find-all-results .l-main").once("pul",function(){e(".view-databases-keyword-search .item-list .database-title").each(function(t,n){var a=parseInt(t,10)+1;e(this).click(function(){ga("send","event","All Search","Database Title","Position "+a)})}),e(" .view-database-subject-search .item-list a").each(function(t,n){var a=parseInt(t,10)+1;e(this).click(function(){ga("send","event","All Search","Database Subject","Position "+a)})}),e(" .view-general-site-keyword-search .item-list .database-titles a").each(function(t,n){var a=parseInt(t,10)+1;e(this).click(function(){ga("send","event","All Search","Website Search","Position "+a)})}),e(" .view-general-site-user-search .item-list .user-link").each(function(t,n){var a=parseInt(t,10)+1;e(this).click(function(){ga("send","event","All Search","People Search","Position "+a)})}),e(" .view-databases-keyword-search .refine-link a").each(function(t,n){parseInt(t,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Database","Top")})}),e(" .view-general-site-keyword-search .refine-link a").each(function(t,n){parseInt(t,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Website Search","Top")})}),e(" .view-databases-keyword-search .more-link a").each(function(t,n){parseInt(t,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Database","Bottom")})}),e(" .view-databases-subject-search .more-link a").each(function(t,n){parseInt(t,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Subject Browse","Bottom")})}),e(" .view-general-site-user-search .more-link a").each(function(t,n){parseInt(t,10)+1;e(this).click(function(){ga("send","event","Expand All Search","People Search","Bottom")})}),e(" .view-general-site-keyword-search .more-link a").each(function(t,n){parseInt(t,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Website Search","Bottom")})}),e(" .view-search-libraries-and-collections h3 a").each(function(t,n){parseInt(t,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Libraries and Collections","Title")})}),e(" .view-search-libraries-and-collections .views-field-field-library-homepage-url a").each(function(t,n){parseInt(t,10)+1;e(this).click(function(){ga("send","event","Expand All Search","Libraries and Collections","Homepage URL")})})})}},Drupal.behaviors.pulTrackBranchUsage={attach:function(t){e(".branch-libraries",t).once("pul",function(){e(".branch-libraries #menu--secondary ul.menu a").each(function(){e(this).click(function(){ga("send","event","Branch Menu","click",e(this).text(),{page:window.location.pathname})})}),e(".branch-libraries .pane-node-field-branch-quick-link a").each(function(){e(this).click(function(){ga("send","event","Branch Quick Links","click",e(this).text(),{page:window.location.pathname})})}),e(".branch-libraries.libraries-stokes a.button--external-link").each(function(){e(this).click(function(){ga("send","event","Branch Quick Links","click",e(this).text(),{page:window.location.pathname})})}),e(".branch-libraries .pane-node-field-branch-external-links a").each(function(){e(this).click(function(){ga("send","event","Branch External Links","click",e(this).text(),{page:window.location.pathname})})}),e(".branch-libraries .pane-branch-features-panel-pane-1 a").each(function(){e(this).click(function(){ga("send","event","Branch External Links","click",e(this).text(),{page:window.location.pathname})})}),e(".branch-libraries .pane-node-field-branch-featured-resources a").each(function(){e(this).click(function(){ga("send","event","Branch Featured Resources","click",e(this).text(),{page:window.location.pathname})})})})}}}(jQuery);
//# sourceMappingURL=pul-base.scripts.min.js.map
